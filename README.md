# Evaluator RDA maDMP for OpenCDMP

**evaluator-rda-madmp** is an implementation of the [evaluator-base](https://github.com/OpenCDMP/evaluator-base) package designed to evaluate **JSON exports** of Data Management Plans (DMPs) against the **[RDA DMP Common Standard for machine-actionable Data Management Plans (maDMPs)](https://github.com/RDA-DMP-Common/RDA-DMP-Common-Standard)**. This evaluator checks whether a plan or description conforms to the **[RDA DMP Common Standard](https://github.com/RDA-DMP-Common/RDA-DMP-Common-Standard)** JSON schema.

## Overview

The **evaluator-rda-madmp** service evaluates the compliance of exported Plans and Descriptions with the **RDA DMP Common Standard**. It ensures that plans and descriptions generated by OpenCDMP adhere to the standards for machine-actionable DMPs, providing a rank and validation feedback based on the JSON schema defined by the RDA.

## Features

- **JSON Evaluation**: Validate and rank DMPs and  exported to RDA-compliant JSON.
- **Schema Compliance**: Checks whether the plan adheres to the RDA DMP Common Standard for maDMPs.
- **Spring Boot Microservice**: Built as a Spring Boot microservice for integration with the OpenCDMP platform.

**Supported operations:**
- ✅ Validate and rank plans
- ❌ Validate and rank descriptions (not supported)
---

## Quick start

This service implements the following endpoints as per `EvaluatorController`:

---

### API endpoints

- `POST /rank/plan` - Evaluates a plan
- `GET /config` - Get evaluator's configuration details
- `GET /logo` - Get evaluator's logo (base64), if available

### Example

**POST `/rank/plan`**: Evaluates a plan in JSON format for compliance with the RDA DMP Common Standard.


```bash
 # Uses benchmarkIds that defined in evaluator configuration to select specific evaluation types.

 POST /rank/plan
  {
    "planModel": {
        # not required fields 
        "id": "plan-uuid",
        "title": "My Research Plan",
        "description": "Plan content",
        ...
        # required
        "rdaJsonFile": {
            "filename": "file-name"
            "file": file content in byte array format
        }
    },
    # required
    "benchmarkIds": ["251128td03prl2041aq3pser"]
  }
```

Responses: 

```bash
{
    "rank": 0.0, //not valid
    "results": [
        {
            "rank": 0.0,
            "benchmarkTitle": "RDA MADMP Schema Validation",
            "metrics": [
                {
                    "rank": 0.0,
                    "messages": [
                        {
                            "title": "Error 1",
                            "message": "#/dmp: required key [dataset] not found"
                        },
                        {
                            "title": "Error 2",
                            "message": "#/dmp: required key [language] not found"
                        }
                    ]
                }
            ]
        }
    ]
}
```

---

## Integration with OpenCDMP

To integrate this service with your OpenCDMP deployment, configure the evaluator plugin in the OpenCDMP.

For detailed integration instructions, see see the [RDA maDMP Configuration](https://opencdmp.github.io/getting-started/configuration/backend/evaluators/#evaluator-rda-madmp) and the [OpenCDMP Evaluators Service Authentication](https://opencdmp.github.io/getting-started/configuration/backend/#evaluator-service-authentication).

---

## See Also

For complete documentation on configuration, integration, and usage:

- **RDA DMP Common Standard Specification**: [Official RDA standard repository](https://github.com/RDA-DMP-Common/RDA-DMP-Common-Standard)
- **Evaluator Service Overview**: [All available evaluators](https://opencdmp.github.io/optional-services/evaluator-services/)
- **User Guide**: [Evaluating Plans](https://opencdmp.github.io/user-guide/plans/evaluators/)
- **Developer Guide**: [Building Custom Evaluator Services](https://opencdmp.github.io/developers/plugins/evaluator/)

---

## License

This repository is licensed under the [EUPL 1.2 License](LICENSE).

---

### Contact

For questions, support, or feedback:

- **Email**: opencdmp at cite.gr
- **GitHub Issues**: https://github.com/OpenCDMP/evaluator-rda-madmp/issues
---

*This service is part of the OpenCDMP ecosystem. For general OpenCDMP documentation, visit [opencdmp.github.io](https://opencdmp.github.io).*
